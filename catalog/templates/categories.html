{% extends "base.html" %}

{% block title %}Categories- Public Items{% endblock %}
{% block head %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
{% endblock %}

{% block content %}
<a href='{{ url_for('newItem', category=category) }}'>New Item</a> <!-- if logged in -->
<div class="container"></div>
<div id="categories">
    <h3>Categories</h3>
    <form id="categorySort" action='{{ url_for('categoryItems', category=category) }}' method="POST">
        <select name="categories" id="categoryPicker" class="form-control">
            <option value="home">Home</option>
            <option value="sports">Sports</option>
            <option value="clothing">Clothing</option>
            <option value="business">Business</option>
            <option value="personal">Personal</option>
        </select>
    </form>
    <!-- Lists all categories, preexisting based on select in forms, currently hardcoded -->
    <ul style="list-style-type: none;">
        {% for category in categories %}
        <li><a href="#">{{category}}</a></li>
        {% endfor %}
    </ul>
</div>
<div id="items">
    <h3>Latest Items</h3>
    <!-- All items, in order of time added (see database info) -->
    <ul>
        {% for item in items %}
        <li><a href='{{ url_for('itemInfo', item_id=item.id, category=item.category) }}'>{{item.name}}</a></li>
        {% endfor %}
    </ul>
</div>
</div>
<script>
    $(document).ready(function() {
    $('#categoryPicker').change(function() {
        alert($(this).find("option:selected").attr('value'));
        category = $(this).find("option:selected").attr('value');
        return category;
    });
});
</script>
{% endblock %}